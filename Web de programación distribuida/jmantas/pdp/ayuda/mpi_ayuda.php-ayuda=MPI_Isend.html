<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
    "http://www.w3.org/TR/html4/loose.dtd">

<!-- 
    Document   : Funciones de MPI
    Created on : 04-abr-2010, 10:02:39
    Author     : Daniel Guerrero Mart�nez, Sergio Rodr�guez Lumley
-->



<html lang="es">
                <head>
                    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
		    <meta name="google-site-verification" content="0DvGanY5lIegMDLM6tZWwbac1BFBH0TaSNDRU_nsfXw" />
                    <!--<base href="http://lsi.ugr.es/jmantas/pdp/" >-->
                    <link rel="shortcut icon" href="../imagenes/iconoweb.ico" type="imagen/x-icon" ><link href="../estilos/estilo_generico/generico.css" type="text/css" rel="stylesheet" title="Light"><title>Web de Programaci&oacute;n Distribuida y Paralela</title>
                    <script src="../scripts/jquery/jquery-1.4.2.min.js" type="text/javascript"></script>
                    <script src="../scripts/jquery/jquery.scrollTo-min.js" type="text/javascript"></script>
                    <script src="../scripts/animacionIndice.js" type="text/javascript"></script><link href="../estilos/estilo_ayuda/ayuda.css" type="text/css" rel="stylesheet">
</head><body><div class="vista" id="cabecera"><div id="temas"><form method="get" action =""><input name="ayuda" value="MPI_Isend" type="hidden" ><input name="stylo" value="generico" type="hidden" ><input title="Light theme" id="light" value="generico" type="submit" class=selec> </form><form method="get" action =""><input name="ayuda" value="MPI_Isend" type="hidden" ><input name="stylo" value="dark" type="hidden" ><input title="Dark theme" id="dark" value="dark" type="submit" > </form></div><div id="idiomas"><form method="get" action =""><input name="ayuda" value="MPI_Isend" type="hidden" ><input name="idioma" value="es" type="hidden" ><input title="Español" id="es" value="es" type="submit" class=selec> </form><form method="get" action =""><input name="ayuda" value="MPI_Isend" type="hidden" ><input name="idioma" value="en" type="hidden" ><input title="English" id="en" value="en" type="submit" > </form></div></div><ol id="menu">
	    <li class="menu vista" id="lHome"><a class="enlaceInvisible" title="Volver al inicio" href="../index.php.html">Home</a></li>
            <li class="menu vista" id="lTeoria"><a class="enlaceInvisible" title="Ir al programa de teoria" href="../teoria/teoria.php.html">Ir al programa de teoria</a></li>
            <li class="menu vista" id="lTutorial"><a class="enlaceInvisible" title="Ir a la sección de tutoriales" href="http://lsi.ugr.es/jmantas/pdp/tutoriales/tutoriales.php">Ir a la sección de tutoriales</a></li>
            <li class="menu vista" id="lPractica"><a class="enlaceInvisible" title="Ir al programa de prácticas" href="http://lsi.ugr.es/jmantas/pdp/practicas/practicas.php">Ir al programa de prácticas</a></li>
            <li class="menu vista" id="lAyuda"><a class="enlaceInvisible" title="Consultar ayuda de MPI y OpenMP" href="ayuda.php.html">Consultar ayuda de MPI y OpenMP</a></li>
            <li class="menu vista" id="lProfesorado"><a class="enlaceInvisible" title="Ir a la sección de profesorado" href="http://lsi.ugr.es/jmantas/pdp/profesorado/profesorado.php">Ir a la sección de profesorado</a></li>
        </ol><div id="navegador"><div class="navegador" id="anterior"> <a class="enlaceInvisible" title="MPI_Recv" href="mpi_ayuda.php-ayuda=MPI_Recv.html">Atras</a> </div><div class="navegador" id="enlaceIndice" title="mpi"> </div><div class="navegador" id="siguiente"> <a class="enlaceInvisible" title="MPI_Irecv" href="mpi_ayuda.php-ayuda=MPI_Irecv.html">Siguiente</a> </div></div><div class="vista" id="cuerpo"><ol class="indiceInterno" id="indiceInterno" start="0"><li class="h1">Indice de pagina</li><li class="h2"><a href="../index.html#nodivShortDescription">1. Descripci&oacute;n breve</a></li><li class="h2"><a href="../index.html#nodivSinopsis">2. Sintaxis</a></li><li class="h3"><a href="../index.html#enC">2.1. En C</a></li><li class="h3"><a href="../index.html#enCpp">2.2. En C++</a></li><li class="h2"><a href="../index.html#nodivParams">3. Par&aacute;metros</a></li><li class="h3"><a href="../index.html#divInParams">3.1. De entrada</a></li><li class="h3"><a href="../index.html#divOutParams">3.2. De salida</a></li><li class="h2"><a href="../index.html#Descripcion">4. Descripci&oacute;n</a></li><li class="h2"><a href="../index.html#Errors">5. Errores</a></li><li class="h2"><a href="../index.html#nodivVTmbien">6. V&eacute;ase tambi&eacute;n</a></li></ol><h1 class="titulo"><span class="funcion"><a href="mpi_ayuda.php-ayuda=MPI_Isend.html">MPI_Isend</a></span></h1><h1 id="nodivShortDescription" >Descripci&oacute;n breve</h1><p>Rutina de env&iacute;o de mensaje de un &uacute;nico origen a un destino no bloqueante.</p><h1 id="nodivSinopsis" >Sintaxis</h1><h2 id="enC" >En C</h2> <div class="codigo"><pre class="cpp" style="font-family:monospace;"><span style="color: #339900;">#include &lt;mpi.h&gt;</span>
<span style="color: #0000ff;">int</span> <span class="funcion"><a href="mpi_ayuda.php-ayuda=MPI_Isend.html">MPI_Isend</a></span><span style="color: #008000;">&#40;</span><span style="color: #0000ff;">void</span> <span style="color: #000040;">*</span>buf, <span style="color: #0000ff;">int</span> count, <span class="funcion"><a href="mpi_ayuda.php-ayuda=mpi_datatypes.html">MPI_Datatype</a></span> datatype, <span style="color: #0000ff;">int</span> dest,
            <span style="color: #0000ff;">int</span> tag, <span class="funcion"><a href="mpi_ayuda.php-ayuda=mpi_datatypes.html">MPI_Comm</a></span> comm, <span class="funcion"><a href="mpi_ayuda.php-ayuda=mpi_datatypes.html">MPI_Request</a></span> <span style="color: #000040;">*</span>request<span style="color: #008000;">&#41;</span></pre></div> <h2 id="enCpp" >En C++</h2> <div class="codigo"><pre class="cpp" style="font-family:monospace;"><span style="color: #339900;">#include &lt;mpi.h&gt;</span>
Request Comm<span style="color: #008080;">::</span><span style="color: #007788;">Isend</span><span style="color: #008000;">&#40;</span><span style="color: #0000ff;">const</span> <span style="color: #0000ff;">void</span><span style="color: #000040;">*</span> buf, <span style="color: #0000ff;">int</span> count, <span style="color: #0000ff;">const</span>
            Datatype<span style="color: #000040;">&amp;</span> datatype, <span style="color: #0000ff;">int</span> dest, <span style="color: #0000ff;">int</span> tag<span style="color: #008000;">&#41;</span> <span style="color: #0000ff;">const</span></pre></div> <h1 id="nodivParams" >Par&aacute;metros</h1><h2 id="divInParams" >De entrada</h2><div class="contenido"> <table><tbody><tr><td><span class="negrita">buf </span></td><td>Direcci&oacute;n inicial del buffer de env&iacute;o. Esto significa que requiere un puntero. Si solo se pretende enviar un elemento, se puede enviar el puntero a este (&amp;elemento).</td></tr><tr><td><span class="negrita">count </span></td><td>Numero de elementos a enviar (Debe ser un entero no negativo).</td></tr><tr><td><span class="negrita">datatype </span></td><td>Tipo de dato de cada elemento que se va a enviar. Acepta constantes definidas por <span class="funcion"><a href="mpi_ayuda.php.html">MPI</a></span> (V&eacute;ase el apartado de constantes). Por ejemplo <span class="funcion"><a href="mpi_ayuda.php-ayuda=mpi_const_types.html">MPI_INT</a></span>.</td></tr><tr><td><span class="negrita">dest </span></td><td>Rango del proceso destino. (V&eacute;ase <span class="funcion"><a href="mpi_ayuda.php-ayuda=MPI_Comm_rank.html">MPI_Comm_rank</a></span>)</td></tr><tr><td><span class="negrita">tag </span></td><td>Entero que representa la etiqueta del mensaje. El significado de la etiqueta queda en manos del usuario, durante el proceso de env&iacute;o no es modificado.</td></tr><tr><td><span class="negrita">comm </span></td><td>Comunicador utilizado para la comunicaci&oacute;n.</td></tr></tbody></table> </div><h2 id="divOutParams" >De salida</h2><div class="contenido"> <table><tbody><tr><td><span class="negrita">request </span></td><td>Dato de tipo  <span class="funcion"><a href="mpi_ayuda.php-ayuda=mpi_datatypes.html">MPI_Request</a></span>, en el se guarda una etiqueta que identifica la operaci&oacute;n no bloqueante. Esto se utiliza para poder consultar, por ejemplo, si la operaci&oacute;n ha finalizado, o poder esperar a que finalice en un momento dado. (V&eacute;ase <span class="funcion"><a href="mpi_ayuda.php-ayuda=MPI_Wait.html">MPI_Wait</a></span>).</td></tr></tbody></table> </div><h1 id="Descripcion" >Descripci&oacute;n</h1><div class="contenido"><p>Esta funci&oacute;n sirve para realizar el env&iacute;o de un mensaje desde un origen a un &uacute;nico destino de forma no bloqueante. Esto significa que la funci&oacute;n devuelve el control a la ejecuci&oacute;n del programa lo antes posible, es decir, hasta que el hardware y el sistema operativo sean capaces de realizar el resto del env&iacute;o por s&iacute; solos. El proceso ser&iacute;a que la implementaci&oacute;n de <span class="funcion"><a href="mpi_ayuda.php.html">MPI</a></span> prepara el mensaje (cabecera, destino, etiqueta...) y pide al sistema operativo la copia del mensaje al buffer de salida (reserva de memoria y transferencia de datos). Esto significa que no se puede asegurar que el mensaje se haya enviado excepto consultando a la variable  <span class="funcion"><a href="mpi_ayuda.php-ayuda=mpi_datatypes.html">MPI_Request</a></span>.<br />
<br />
	Es com&uacute;n utilizar este m&eacute;todo para enviar mensajes muy largos, ya que puede llevar tiempo cargarlo en el buffer, se puede comenzar el env&iacute;o lo antes posible y continuar parte de la ejecuci&oacute;n, hasta que sea estrictamente necesario conocer que se ha mandado el mensaje. En este caso, se puede hacer uso de la funci&oacute;n <span class="funcion"><a href="mpi_ayuda.php-ayuda=MPI_Wait.html">MPI_Wait</a></span>.<br />
<br />
	</p> <img id="animacion" class="bAnimacion" alt="Imagen MPI_Isend" src="imagenes/mpi_isend01.jpg">
    	<span class="cursiva centro">(Pulsar sobre la imagen para ver la animación)</span> <p>Una porci&oacute;n de c&oacute;digo posible con esta funci&oacute;n puede ser la siguiente: <br />
	<br />
    </p> <div class="codigo"><pre class="cpp" style="font-family:monospace;"><span style="color: #0000ff;">int</span> main<span style="color: #008000;">&#40;</span><span style="color: #0000ff;">int</span> argc, <span style="color: #0000ff;">char</span> <span style="color: #000040;">*</span>argv<span style="color: #008000;">&#91;</span><span style="color: #008000;">&#93;</span><span style="color: #008000;">&#41;</span>
<span style="color: #008000;">&#123;</span>
    <span style="color: #0000ff;">int</span> rank, size<span style="color: #008080;">;</span>
    <span style="color: #0000ff;">int</span> <span style="color: #000040;">*</span>mensaje<span style="color: #008080;">;</span>
    <span class="funcion"><a href="mpi_ayuda.php-ayuda=mpi_datatypes.html">MPI_Request</a></span> request<span style="color: #008080;">;</span>
    <span class="funcion"><a href="mpi_ayuda.php-ayuda=mpi_datatypes.html">MPI_Status</a></span> status<span style="color: #008080;">;</span>
&nbsp;
    <span class="funcion"><a href="mpi_ayuda.php-ayuda=MPI_Init.html">MPI_Init</a></span><span style="color: #008000;">&#40;</span><span style="color: #000040;">&amp;</span>argc, <span style="color: #000040;">&amp;</span>argv<span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span> <span style="color: #666666;">// Inicializamos las hebras</span>
    <span class="funcion"><a href="mpi_ayuda.php-ayuda=MPI_Comm_size.html">MPI_Comm_size</a></span><span style="color: #008000;">&#40;</span><span class="funcion"><a href="mpi_ayuda.php-ayuda=mpi_const_types.html">MPI_COMM_WORLD</a></span>, <span style="color: #000040;">&amp;</span>size<span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span> <span style="color: #666666;">// Obtenemos el numero total de hebras</span>
    <span class="funcion"><a href="mpi_ayuda.php-ayuda=MPI_Comm_rank.html">MPI_Comm_rank</a></span><span style="color: #008000;">&#40;</span><span class="funcion"><a href="mpi_ayuda.php-ayuda=mpi_const_types.html">MPI_COMM_WORLD</a></span>, <span style="color: #000040;">&amp;</span>rank<span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span> <span style="color: #666666;">// Obtenemos el valor de nuestro identificador</span>
&nbsp;
    mensaje <span style="color: #000080;">=</span> <span style="color: #0000dd;">new</span> <span style="color: #0000ff;">int</span><span style="color: #008000;">&#91;</span><span style="color: #0000dd;">50000</span><span style="color: #008000;">&#93;</span><span style="color: #008080;">;</span>
&nbsp;
    ...
    <span style="color: #666666;">// Rellenamos el mensaje</span>
    ...
&nbsp;
    <span style="color: #007788;"><span class="funcion"><a href="mpi_ayuda.php-ayuda=MPI_Isend.html">MPI_Isend</a></span></span> <span style="color: #008000;">&#40;</span>mensaje, <span style="color: #666666;">// Buffer de envio</span>
               <span style="color: #0000dd;">50000</span>,  <span style="color: #666666;">// Numero de elementos a enviar en el buffer</span>
               <span class="funcion"><a href="mpi_ayuda.php-ayuda=mpi_const_types.html">MPI_INT</a></span>, <span style="color: #666666;">// Tipo de cada elemento</span>
               <span style="color: #0000dd;">1</span>, <span style="color: #666666;">// Rank del proceso destino</span>
               <span style="color: #0000dd;">1</span>, <span style="color: #666666;">// Etiqueta</span>
               <span class="funcion"><a href="mpi_ayuda.php-ayuda=mpi_const_types.html">MPI_COMM_WORLD</a></span>, <span style="color: #666666;">// Comunicador utilizado</span>
               <span style="color: #000040;">&amp;</span>request<span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span> <span style="color: #666666;">// Datos de la operacion</span>
    ...
    <span style="color: #666666;">// Calculos y operaciones del programa</span>
    ...
    <span style="color: #007788;"><span class="funcion"><a href="mpi_ayuda.php-ayuda=MPI_Wait.html">MPI_Wait</a></span></span><span style="color: #008000;">&#40;</span><span style="color: #000040;">&amp;</span>request, <span style="color: #000040;">&amp;</span>status<span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span>
    <span style="color: #666666;">// Si sale de Wait, el mensaje ha sido enviado</span>
&nbsp;
    <span class="funcion"><a href="mpi_ayuda.php-ayuda=MPI_Finalize.html">MPI_Finalize</a></span><span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span>
    <span style="color: #0000ff;">return</span> <span style="color: #0000dd;">0</span><span style="color: #008080;">;</span>
<span style="color: #008000;">&#125;</span></pre></div> </div><h1 id="Errors" >Errores</h1><div class="contenido"> <table><tbody><tr><td><span class="negrita">MPI_SUCCESS </span></td><td>No ha habido error, la funci&oacute;n <span class="funcion"><a href="mpi_ayuda.php.html">MPI</a></span> se ha realizado satisfactoriamente.</td></tr><tr><td><span class="negrita">MPI_ERR_COMM </span></td><td>El comunicador seleccionado no es v&aacute;lido. Un error com&uacute;n es usar un comunicador nulo.</td></tr><tr><td><span class="negrita">MPI_ERR_COUNT </span></td><td>Valor de count no v&aacute;lido. El argumento count debe ser un valor no negativo, a veces es posible utilizar el valor cero.</td></tr><tr><td><span class="negrita">MPI_ERR_TYPE </span></td><td>Argumento datatype no v&aacute;lido. Puede ocurrir cuando no se hace commit del tipo de dato (V&eacute;ase <span class="funcion"><a href="mpi_ayuda.php-ayuda=MPI_Type_commit.html">MPI_Type_commit</a></span>).</td></tr><tr><td><span class="negrita">MPI_ERR_TAG </span></td><td>Error de tag (etiqueta) no v&aacute;lido. La etiqueta debe tener un valor no negativo. Se permite utilizar en el recibimiento la etiqueta <span class="funcion"><a href="mpi_ayuda.php-ayuda=mpi_const_types.html">MPI_ANY_TAG</a></span>.</td></tr><tr><td><span class="negrita">MPI_ERR_RANK </span></td><td>Rango (rank) de origen o de destino no v&aacute;lido. El valor debe estar comprendido entre cero y el n&uacute;mero de procesos del comunicador menos uno. El rango en una funcion de recibir (como <span class="funcion"><a href="mpi_ayuda.php-ayuda=MPI_Recv.html">MPI_Recv</a></span>) puede tomar el valor de <span class="funcion"><a href="mpi_ayuda.php-ayuda=mpi_const_types.html">MPI_ANY_SOURCE</a></span>.</td></tr><tr><td><span class="negrita">MPI_ERR_INTERN </span></td><td>Este error es devuelto si a la implementaci&oacute;n de <span class="funcion"><a href="mpi_ayuda.php.html">MPI</a></span> le resulta imposible obtener memoria en alg&uacute;n momento durante el proceso de comunicaci&oacute;n</td></tr></tbody></table> </div><h1 id="nodivVTmbien" >V&eacute;ase tambi&eacute;n</h1><p><span class="funcion"><a href="mpi_ayuda.php-ayuda=MPI_Send.html">MPI_Send</a></span><br />
    <span class="funcion"><a href="mpi_ayuda.php-ayuda=MPI_Wait.html">MPI_Wait</a></span></p></div><div id="creadoresWeb">
					<span> Creado por: Daniel Guerrero Mart&iacute;nez y Sergio Rodr&iacute;guez Lumley 2010</span>
			      <p><a target="_blank" href="http://validator.w3.org/check?uri=referer"><img
				      src="http://www.w3.org/Icons/valid-html401"
				      alt="Valid HTML 4.01 Transitional" height="31" width="88"></a>
				</p>
				</div>
			</body>
		</html>
