<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
    "http://www.w3.org/TR/html4/loose.dtd">

<!-- 
    Document   : Funciones de MPI
    Created on : 04-abr-2010, 10:02:39
    Author     : Daniel Guerrero Mart�nez, Sergio Rodr�guez Lumley
-->



<html lang="es">
                <head>
                    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
		    <meta name="google-site-verification" content="0DvGanY5lIegMDLM6tZWwbac1BFBH0TaSNDRU_nsfXw" />
                    <!--<base href="http://lsi.ugr.es/jmantas/pdp/" >-->
                    <link rel="shortcut icon" href="../imagenes/iconoweb.ico" type="imagen/x-icon" ><link href="../estilos/estilo_generico/generico.css" type="text/css" rel="stylesheet" title="Light"><title>Web de Programaci&oacute;n Distribuida y Paralela</title>
                    <script src="../scripts/jquery/jquery-1.4.2.min.js" type="text/javascript"></script>
                    <script src="../scripts/jquery/jquery.scrollTo-min.js" type="text/javascript"></script>
                    <script src="../scripts/animacionIndice.js" type="text/javascript"></script><link href="../estilos/estilo_ayuda/ayuda.css" type="text/css" rel="stylesheet">
</head><body><div class="vista" id="cabecera"><div id="temas"><form method="get" action =""><input name="ins" value="openmpi" type="hidden" ><input name="stylo" value="generico" type="hidden" ><input title="Light theme" id="light" value="generico" type="submit" class=selec> </form><form method="get" action =""><input name="ins" value="openmpi" type="hidden" ><input name="stylo" value="dark" type="hidden" ><input title="Dark theme" id="dark" value="dark" type="submit" > </form></div><div id="idiomas"><form method="get" action =""><input name="ins" value="openmpi" type="hidden" ><input name="idioma" value="es" type="hidden" ><input title="Español" id="es" value="es" type="submit" class=selec> </form><form method="get" action =""><input name="ins" value="openmpi" type="hidden" ><input name="idioma" value="en" type="hidden" ><input title="English" id="en" value="en" type="submit" > </form></div></div><ol id="menu">
	    <li class="menu vista" id="lHome"><a class="enlaceInvisible" title="Volver al inicio" href="../index.php.html">Home</a></li>
            <li class="menu vista" id="lTeoria"><a class="enlaceInvisible" title="Ir al programa de teoria" href="../teoria/teoria.php.html">Ir al programa de teoria</a></li>
            <li class="menu vista" id="lTutorial"><a class="enlaceInvisible" title="Ir a la sección de tutoriales" href="http://lsi.ugr.es/jmantas/pdp/tutoriales/tutoriales.php">Ir a la sección de tutoriales</a></li>
            <li class="menu vista" id="lPractica"><a class="enlaceInvisible" title="Ir al programa de prácticas" href="http://lsi.ugr.es/jmantas/pdp/practicas/practicas.php">Ir al programa de prácticas</a></li>
            <li class="menu vista" id="lAyuda"><a class="enlaceInvisible" title="Consultar ayuda de MPI y OpenMP" href="ayuda.php.html">Consultar ayuda de MPI y OpenMP</a></li>
            <li class="menu vista" id="lProfesorado"><a class="enlaceInvisible" title="Ir a la sección de profesorado" href="http://lsi.ugr.es/jmantas/pdp/profesorado/profesorado.php">Ir a la sección de profesorado</a></li>
        </ol><div class="vista" id="cuerpo"><ol class="indiceInterno" id="indiceInterno" start="0"><li class="h1">Indice de pagina</li><li class="h2"><a href="../index.html#nodivtitulo">1. OpenMPI </a></li><li class="h2"><a href="../index.html#instalacionrapida">2. Instalaci&oacute;n r&aacute;pida (Ubuntu/Debian)</a></li><li class="h2"><a href="../index.html#instalacionmanual">3. Instalaci&oacute;n manual</a></li><li class="h3"><a href="../index.html#requisitos">3.1. Requisitos previos</a></li><li class="h3"><a href="../index.html#inst">3.2. Instalar el programa</a></li><li class="h3"><a href="../index.html#confopenmpi">3.3. Configurar OpenMPI</a></li><li class="h2"><a href="../index.html#rec">4. Resoluci&oacute;n de errores comunes</a></li></ol><h1 id="nodivtitulo" >OpenMPI <a class="bDescarga" title="Descarga el fichero" href="datos/instalaciones/Instalacion_OpenMPI.pdf">Descarga</a></h1><p>OpenMPI es una implementaci&oacute;n de la interfaz de paso de mensajes <span class="funcion"><a href="mpi_ayuda.php.html">MPI</a></span>. OpenMPI se caracteriza por su alta eficiencia y prestaciones para la ejecuci&oacute;n en entornos distribuidos (cl&uacute;sters de ordenadores).<br />
	</p> <p>Web oficial: <a href="http://www.open-mpi.org">www.open-mpi.org</a></p> <h1 id="instalacionrapida" >Instalaci&oacute;n r&aacute;pida (Ubuntu/Debian)</h1><div class="contenido"><p>Vamos a explicar de forma sencilla los paquetes necesarios para su instalaci&oacute;n en un sistema Linux/Unix basado en Debian (En concreto, Ubuntu). Los paquetes necesarios son:<br />
	</p> <span class="negrita">openmpi-bin:</span> Programa de ejecución de códigos paralelos (mpirun).<br> Instala: openmpi-common libopenmpi1.3 <br>
        <span class="negrita">openssh-client, openssh-server:</span> Programa de comunicación (rutinas de control y presentación) entre procesos. <br>
        <span class="negrita">libopenmpi-dbg:</span> Generador de información de depuración para MPI.<br>
        <span class="negrita">libopenmpi-dev:</span> Necesario para el desarrollo de programas basados en MPI (mpicc, mpicxx, etc). <p>Comando r&aacute;pido<br />
	</p> <div class="consola">sudo apt-get install openmpi-bin openssh-client openssh-server libopenmpi-dbg libopenmpi-dev</div>  <span class="cursiva">Nota: En sistemas como Ubuntu, el gestor de paquetes se encargará de resolver las dependencias de los paquetes seleccionados, evitando su reinstalación e instalando (si fuera necesario) un compilador de C y C++. Además de las dependencias de los paquetes antes mencionados.</span> </div><h1 id="instalacionmanual" >Instalaci&oacute;n manual</h1><div class="contenido"><h2 id="requisitos" >Requisitos previos</h2> <table><tbody><tr><td><span class="negrita">1. </span></td><td>Es necesario tener instalado un compilador de C/C++ ANTES de realizar la instalaci&oacute;n de OpenMPI.</td></tr><tr><td><span class="negrita">   2. </span></td><td>Es necesaria la herramienta Make.</td></tr><tr><td><span class="negrita">   3. </span></td><td>Tener la ultima versi&oacute;n de OpenMPI http://www.open-mpi.org/software/ompi</td></tr></tbody></table> <p>Podremos descargar una versi&oacute;n en tar.gz, tar.bz2 o en rpm.<br />
      Si tu sistema soporta rpm es altamente recomendable que descargues este paquete. En este caso la instalaci&oacute;n es solo ejecutar el paquete mencionado, no ser&aacute; necesario realizar ninguno de los siguientes pasos.</p><h2 id="inst" >Instalar el programa</h2><p>La instalaci&oacute;n se compone de 4 pasos<br />
	</p> <table><tbody><tr><td><span class="negrita">1. </span></td><td>Descomprimir el archivo openmpi-x.x.x.tar.xxx (Cambiar x.x.x por la versi&oacute;n descargada).</td></tr></tbody></table>  <div class="consola">tar -xvf openmpi-*</div>  <table><tbody><tr><td><span class="negrita">2. </span></td><td>Nos situamos en la carpeta que habr&aacute; generado la descompresi&oacute;n.</td></tr></tbody></table>  <div class="consola">cd openmpi-*</div>  <table><tbody><tr><td><span class="negrita">3. </span></td><td>Configuramos el archivo de instalaci&oacute;n (haciendo uso de los privilegios de superusuario correspondientes a su sistema operativo, no confundir con root) y nos vamos preparando un caf&eacute;, porque esto tardar&aacute; entre 5 y 10 minutos (dependiendo del ordenador). Es necesario a&ntilde;adir en el prefijo el directorio de instalaci&oacute;n que queremos para OpenMPI. Lo normal ser&iacute;a seleccionar de directorio de instalaci&oacute;n "/home/[usuario]/.openmpi".</td></tr></tbody></table>  <div class="consola">./configure --prefix="/home/$USER/.openmpi"</div>  <table><tbody><tr><td><span class="negrita">4. </span></td><td>Realizamos la instalaci&oacute;n. Para ello necesitaremos la herramienta Make. Este es un buen momento para tomarse el caf&eacute;, u otro m&aacute;s, porque este paso tomar&aacute; entre 10 y 15 minutos (dependiendo del ordenador).</td></tr></tbody></table>  <div class="consola">make; sudo make install</div> <p>Si todo ha ido bien, podemos pasar configurar OpenMPI.</p><h2 id="confopenmpi" >Configurar OpenMPI</h2><p>Necesitamos incluir en nuestro entorno de ruta la direcci&oacute;n "directorio_de_instalacion/bin" y a la variable de ruta de librer&iacute;as "directorio_de_instalacion/lib/". Para sistemas que usen bash tendr&aacute;n que utilizar export.<br />
		</p> <div class="consola">export PATH="$PATH:/home/$USER/.openmpi/bin";<br />
		export LD_LIBRARY_PATH="$LD_LIBRARY_PATH:/home/$USER/.openmpi/lib/"</div> <p>Para que la exportaci&oacute;n de variables perdure para las siguientes sesiones y terminales, apuntaremos los comandos anteriores en el fichero de variables de entorno. Por defecto ser&aacute; "/home/&lt;usuario&gt;/.bashrc" para los usuarios de bash.<br />
		</p> <div class="consola">echo export PATH="$PATH:/home/$USER/.openmpi/bin" &gt;&gt; /home/$USER/.bashrc ;<br />
		echo export LD_LIBRARY_PATH="$LD_LIBRARY_PATH:/home/$USER/.openmpi/lib/" &gt;&gt; /home/$USER/.bashrc</div> <p>Si todo ha ido bien, cuando ejecutemos mpirun nos soltar&aacute; la ayuda de uso, al igual que al hacer mpicc.</p></div><h1 id="rec" >Resoluci&oacute;n de errores comunes</h1><div class="contenido"> <h4>1. "Estoy en una distribución de Ubuntu o compatible moderna y el comando rápido no me funcionó, no se encuentra openmpi-bin"</h4> <p>Si est&aacute;s seguro de que tu sistema debe tener el paquete mencionado, el error seguramente es por no tener los repositorios actualizados. Una forma de actualizarlos, si se utiliza el gestor de paquetes “apt” (Advanced Packaging Tool) es ejecutando el comando:<br />
	</p> <div class="consola">sudo apt-get update</div> <p>Si no funciona, pasa a la instalaci&oacute;n manual, gen&eacute;rica para todos los sistemas.<br />
	<br />
	</p> <h4>2. "En el paso 3, configure me dio un error"</h4> <p>Si es del tipo de error es similar al siguiente: <br />
	</p> <img alt="No se encuentran compiladores" src="../imagenes/ayuda/errorompi01.png"> <p>Es porque no tienes instalado ning&uacute;n compilador. Es necesario instalar los compiladores que deseamos utilizar con OpenMPI ANTES de realizar la instalaci&oacute;n del mismo. Instala antes un compilador para C/C++ (Por ejemplo el compilador de GNU gcc/g++ versi&oacute;n 4.4 o superior).<br />
    <br />
	</p> <h4>3. "Cuando ejecuto MPIRUN o MPICC me dice que no se encuentra el archivo o no está instalado"</h4> <p>Comprueba la configuraci&oacute;n de las variables de entorno (Configuraci&oacute;n en la instalaci&oacute;n manual). En caso de que hayas hecho la instalaci&oacute;n autom&aacute;tica, tambi&eacute;n puedes realizar este punto de la instalaci&oacute;n manual, poniendo como directorio de instalaci&oacute;n el de por defecto (generalmente "/usr/include/openmpi/" para PATH y "/usr/lib/openmpi/lib" para LD_LIBRARY_PATH).</p></div></div><div id="creadoresWeb">
					<span> Creado por: Daniel Guerrero Mart&iacute;nez y Sergio Rodr&iacute;guez Lumley 2010</span>
			      <p><a target="_blank" href="http://validator.w3.org/check?uri=referer"><img
				      src="http://www.w3.org/Icons/valid-html401"
				      alt="Valid HTML 4.01 Transitional" height="31" width="88"></a>
				</p>
				</div>
			</body>
		</html>

