<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
    "http://www.w3.org/TR/html4/loose.dtd">

<!-- 
    Document   : Funciones de MPI
    Created on : 04-abr-2010, 10:02:39
    Author     : Daniel Guerrero Mart�nez, Sergio Rodr�guez Lumley
-->



<html lang="es">
                <head>
                    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
		    <meta name="google-site-verification" content="0DvGanY5lIegMDLM6tZWwbac1BFBH0TaSNDRU_nsfXw" />
                    <!--<base href="http://lsi.ugr.es/jmantas/pdp/" >-->
                    <link rel="shortcut icon" href="../imagenes/iconoweb.ico" type="imagen/x-icon" ><link href="../estilos/estilo_generico/generico.css" type="text/css" rel="stylesheet" title="Light"><title>Web de Programaci&oacute;n Distribuida y Paralela</title>
                    <script src="../scripts/jquery/jquery-1.4.2.min.js" type="text/javascript"></script>
                    <script src="../scripts/jquery/jquery.scrollTo-min.js" type="text/javascript"></script>
                    <script src="../scripts/animacionIndice.js" type="text/javascript"></script><link href="../estilos/estilo_ayuda/ayuda.css" type="text/css" rel="stylesheet">
</head><body><div class="vista" id="cabecera"><div id="temas"><form method="get" action =""><input name="ayuda" value="MPI_Pack" type="hidden" ><input name="stylo" value="generico" type="hidden" ><input title="Light theme" id="light" value="generico" type="submit" class=selec> </form><form method="get" action =""><input name="ayuda" value="MPI_Pack" type="hidden" ><input name="stylo" value="dark" type="hidden" ><input title="Dark theme" id="dark" value="dark" type="submit" > </form></div><div id="idiomas"><form method="get" action =""><input name="ayuda" value="MPI_Pack" type="hidden" ><input name="idioma" value="es" type="hidden" ><input title="Español" id="es" value="es" type="submit" class=selec> </form><form method="get" action =""><input name="ayuda" value="MPI_Pack" type="hidden" ><input name="idioma" value="en" type="hidden" ><input title="English" id="en" value="en" type="submit" > </form></div></div><ol id="menu">
	    <li class="menu vista" id="lHome"><a class="enlaceInvisible" title="Volver al inicio" href="../index.php.html">Home</a></li>
            <li class="menu vista" id="lTeoria"><a class="enlaceInvisible" title="Ir al programa de teoria" href="../teoria/teoria.php.html">Ir al programa de teoria</a></li>
            <li class="menu vista" id="lTutorial"><a class="enlaceInvisible" title="Ir a la sección de tutoriales" href="http://lsi.ugr.es/jmantas/pdp/tutoriales/tutoriales.php">Ir a la sección de tutoriales</a></li>
            <li class="menu vista" id="lPractica"><a class="enlaceInvisible" title="Ir al programa de prácticas" href="http://lsi.ugr.es/jmantas/pdp/practicas/practicas.php">Ir al programa de prácticas</a></li>
            <li class="menu vista" id="lAyuda"><a class="enlaceInvisible" title="Consultar ayuda de MPI y OpenMP" href="ayuda.php.html">Consultar ayuda de MPI y OpenMP</a></li>
            <li class="menu vista" id="lProfesorado"><a class="enlaceInvisible" title="Ir a la sección de profesorado" href="http://lsi.ugr.es/jmantas/pdp/profesorado/profesorado.php">Ir a la sección de profesorado</a></li>
        </ol><div id="navegador"><div class="navegador" id="anterior"> <a class="enlaceInvisible" title="MPI_Type_free" href="mpi_ayuda.php-ayuda=MPI_Type_free.html">Atras</a> </div><div class="navegador" id="enlaceIndice" title="mpi"> </div><div class="navegador" id="siguiente"> <a class="enlaceInvisible" title="MPI_Unpack" href="mpi_ayuda.php-ayuda=MPI_Unpack.html">Siguiente</a> </div></div><div class="vista" id="cuerpo"><ol class="indiceInterno" id="indiceInterno" start="0"><li class="h1">Indice de pagina</li><li class="h2"><a href="../index.html#nodivShortDescription">1. Descripci&oacute;n breve</a></li><li class="h2"><a href="../index.html#nodivSinopsis">2. Sintaxis</a></li><li class="h3"><a href="../index.html#enC">2.1. En C</a></li><li class="h3"><a href="../index.html#enCpp">2.2. En C++</a></li><li class="h2"><a href="../index.html#nodivParams">3. Par&aacute;metros</a></li><li class="h3"><a href="../index.html#divInParams">3.1. De entrada</a></li><li class="h3"><a href="../index.html#divOutParams">3.2. De salida</a></li><li class="h2"><a href="../index.html#Descripcion">4. Descripci&oacute;n</a></li><li class="h2"><a href="../index.html#Notas">5. Notas</a></li><li class="h2"><a href="../index.html#Errors">6. Errores</a></li><li class="h2"><a href="../index.html#nodivVTmbien">7. V&eacute;ase tambi&eacute;n</a></li></ol><h1 class="titulo"><span class="funcion"><a href="mpi_ayuda.php-ayuda=MPI_Pack.html">MPI_Pack</a></span></h1><h1 id="nodivShortDescription" >Descripci&oacute;n breve</h1><p>Empaqueta distintos tipos de datos en memoria continua.</p><h1 id="nodivSinopsis" >Sintaxis</h1><h2 id="enC" >En C</h2> <div class="codigo"><pre class="cpp" style="font-family:monospace;"><span style="color: #339900;">#include &lt;mpi.h&gt;</span>
<span style="color: #0000ff;">int</span> <span class="funcion"><a href="mpi_ayuda.php-ayuda=MPI_Pack.html">MPI_Pack</a></span><span style="color: #008000;">&#40;</span><span style="color: #0000ff;">void</span> <span style="color: #000040;">*</span>inbuf, <span style="color: #0000ff;">int</span> incount, <span class="funcion"><a href="mpi_ayuda.php-ayuda=mpi_datatypes.html">MPI_Datatype</a></span> datatype,
            <span style="color: #0000ff;">void</span> <span style="color: #000040;">*</span>outbuf, <span style="color: #0000ff;">int</span> outsize, <span style="color: #0000ff;">int</span> <span style="color: #000040;">*</span>position, <span class="funcion"><a href="mpi_ayuda.php-ayuda=mpi_datatypes.html">MPI_Comm</a></span> comm<span style="color: #008000;">&#41;</span></pre></div> <h2 id="enCpp" >En C++</h2> <div class="codigo"><pre class="cpp" style="font-family:monospace;"><span style="color: #339900;">#include &lt;mpi.h&gt;</span>
<span style="color: #0000ff;">void</span> Datatype<span style="color: #008080;">::</span><span style="color: #007788;">Pack</span><span style="color: #008000;">&#40;</span><span style="color: #0000ff;">const</span> <span style="color: #0000ff;">void</span><span style="color: #000040;">*</span> inbuf, <span style="color: #0000ff;">int</span> incount, <span style="color: #0000ff;">void</span> <span style="color: #000040;">*</span>outbuf,
                <span style="color: #0000ff;">int</span> outsize, <span style="color: #0000ff;">int</span><span style="color: #000040;">&amp;</span> position, <span style="color: #0000ff;">const</span> Comm <span style="color: #000040;">&amp;</span>comm<span style="color: #008000;">&#41;</span> <span style="color: #0000ff;">const</span></pre></div> <h1 id="nodivParams" >Par&aacute;metros</h1><h2 id="divInParams" >De entrada</h2><div class="contenido"> <table><tbody><tr><td><span class="negrita">inbuf </span></td><td>Inicio del buffer de entrada.</td></tr><tr><td><span class="negrita">       incount </span></td><td>Numero de datos de entrada.</td></tr><tr><td><span class="negrita">       datatype </span></td><td>Tipo de dato de los datos de entrada.</td></tr><tr><td><span class="negrita">       outsize </span></td><td>Tama&ntilde;o del buffer de salida, en bytes.</td></tr><tr><td><span class="negrita">       comm </span></td><td>Comunicador para el mensaje empaquetado.</td></tr><tr><td><span class="negrita">       position </span></td><td>Actual posici&oacute;n del buffer, en bytes.</td></tr></tbody></table> </div><h2 id="divOutParams" >De salida</h2><div class="contenido"> <table><tbody><tr><td><span class="negrita">        position </span></td><td>Actual posici&oacute;n del buffer, en bytes.</td></tr><tr><td><span class="negrita">        outbuf </span></td><td>Inicio del buffer de salida.</td></tr></tbody></table> </div><h1 id="Descripcion" >Descripci&oacute;n</h1><div class="contenido"><p>Para formar un paquete se tiene un buffer de entrada (inbuf), el tipo de datos que contiene (datatype), el numero de datos dentro del buffer, otro buffer de salida (outsize) con gran capacidad para todos los datos(outsize), indicador de posici&oacute;n ocupada dentro del buffer de salida (position), y el comunicador por donde se transmitir&aacute; el paquete.<br />
    El par&aacute;metro "position" incrementa de tama&ntilde;o con cada llamada.</p></div><h1 id="Notas" >Notas</h1><div class="contenido"><p>Un sencillo ejemplo del uso de <span class="funcion"><a href="mpi_ayuda.php-ayuda=MPI_Pack.html">MPI_Pack</a></span> con su opuesto <span class="funcion"><a href="mpi_ayuda.php-ayuda=MPI_Unpack.html">MPI_Unpack</a></span> es:<br />
   <br />
    </p> <div class="codigo"><pre class="cpp" style="font-family:monospace;"><span style="color: #339900;">#define TAM_BUFFER 100</span>
<span style="color: #339900;">#define TAG 0</span>
<span style="color: #339900;">#define DEST 1</span>
<span style="color: #339900;">#define SOURCE 0</span>
&nbsp;
main<span style="color: #008000;">&#40;</span><span style="color: #0000ff;">int</span> argc, <span style="color: #0000ff;">char</span><span style="color: #000040;">*</span> argv<span style="color: #008000;">&#91;</span><span style="color: #008000;">&#93;</span><span style="color: #008000;">&#41;</span> <span style="color: #008000;">&#123;</span>
   <span style="color: #0000ff;">int</span>   my_rank<span style="color: #008080;">;</span>
   <span style="color: #0000ff;">char</span>  buffer<span style="color: #008000;">&#91;</span>TAM_BUFFER<span style="color: #008000;">&#93;</span><span style="color: #008080;">;</span>
   <span style="color: #0000ff;">int</span>   posicion<span style="color: #008080;">;</span>
   <span class="funcion"><a href="mpi_ayuda.php-ayuda=mpi_datatypes.html">MPI_Status</a></span>  status<span style="color: #008080;">;</span>
   <span style="color: #0000ff;">float</span> a, b<span style="color: #008080;">;</span>
   <span style="color: #0000ff;">int</span>   n<span style="color: #008080;">;</span>
&nbsp;
   <span class="funcion"><a href="mpi_ayuda.php-ayuda=MPI_Init.html">MPI_Init</a></span><span style="color: #008000;">&#40;</span><span style="color: #000040;">&amp;</span>argc, <span style="color: #000040;">&amp;</span>argv<span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span>
   <span class="funcion"><a href="mpi_ayuda.php-ayuda=MPI_Comm_rank.html">MPI_Comm_rank</a></span><span style="color: #008000;">&#40;</span><span class="funcion"><a href="mpi_ayuda.php-ayuda=mpi_const_types.html">MPI_COMM_WORLD</a></span>, <span style="color: #000040;">&amp;</span>my_rank<span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span>
&nbsp;
   <span style="color: #0000ff;">if</span> <span style="color: #008000;">&#40;</span> rank <span style="color: #000080;">==</span> SOURCE <span style="color: #008000;">&#41;</span> <span style="color: #008000;">&#123;</span>
      a <span style="color: #000080;">=</span> <span style="color:#800080;">10.3</span><span style="color: #008080;">;</span>
      b <span style="color: #000080;">=</span> <span style="color:#800080;">11.2</span>
      n <span style="color: #000080;">=</span> <span style="color: #0000dd;">4</span><span style="color: #008080;">;</span>
      posicion <span style="color: #000080;">=</span> <span style="color: #0000dd;">0</span><span style="color: #008080;">;</span>
      <span class="funcion"><a href="mpi_ayuda.php-ayuda=MPI_Pack.html">MPI_Pack</a></span><span style="color: #008000;">&#40;</span><span style="color: #000040;">&amp;</span>a,<span style="color: #0000dd;">1</span>,<span class="funcion"><a href="mpi_ayuda.php-ayuda=mpi_const_types.html">MPI_FLOAT</a></span>,buffer,TAM_BUFFER,<span style="color: #000040;">&amp;</span>posicion,<span class="funcion"><a href="mpi_ayuda.php-ayuda=mpi_const_types.html">MPI_COMM_WORLD</a></span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span>
      <span class="funcion"><a href="mpi_ayuda.php-ayuda=MPI_Pack.html">MPI_Pack</a></span><span style="color: #008000;">&#40;</span><span style="color: #000040;">&amp;</span>b,<span style="color: #0000dd;">1</span>,<span class="funcion"><a href="mpi_ayuda.php-ayuda=mpi_const_types.html">MPI_FLOAT</a></span>,buffer,TAM_BUFFER,<span style="color: #000040;">&amp;</span>posicion,<span class="funcion"><a href="mpi_ayuda.php-ayuda=mpi_const_types.html">MPI_COMM_WORLD</a></span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span>
      <span class="funcion"><a href="mpi_ayuda.php-ayuda=MPI_Pack.html">MPI_Pack</a></span><span style="color: #008000;">&#40;</span><span style="color: #000040;">&amp;</span>n,<span style="color: #0000dd;">1</span>,<span class="funcion"><a href="mpi_ayuda.php-ayuda=mpi_const_types.html">MPI_INT</a></span>,buffer,TAM_BUFFER,<span style="color: #000040;">&amp;</span>posicion,<span class="funcion"><a href="mpi_ayuda.php-ayuda=mpi_const_types.html">MPI_COMM_WORLD</a></span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span>
      <span class="funcion"><a href="mpi_ayuda.php-ayuda=MPI_Send.html">MPI_Send</a></span><span style="color: #008000;">&#40;</span>buffer,TAM_BUFFER,<span class="funcion"><a href="mpi_ayuda.php-ayuda=mpi_const_types.html">MPI_PACKED</a></span>,DEST,TAG,<span class="funcion"><a href="mpi_ayuda.php-ayuda=mpi_const_types.html">MPI_COMM_WORLD</a></span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span>
   <span style="color: #008000;">&#125;</span>
   <span style="color: #0000ff;">else</span> <span style="color: #008000;">&#123;</span>
      <span class="funcion"><a href="mpi_ayuda.php-ayuda=MPI_Recv.html">MPI_Recv</a></span><span style="color: #008000;">&#40;</span>buffer,TAM_BUFFER,<span class="funcion"><a href="mpi_ayuda.php-ayuda=mpi_const_types.html">MPI_PACKED</a></span>,SOURCE,TAG,<span class="funcion"><a href="mpi_ayuda.php-ayuda=mpi_const_types.html">MPI_COMM_WORLD</a></span>,<span style="color: #000040;">&amp;</span>status<span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span>
      posicion <span style="color: #000080;">=</span> <span style="color: #0000dd;">0</span><span style="color: #008080;">;</span>
      <span class="funcion"><a href="mpi_ayuda.php-ayuda=MPI_Unpack.html">MPI_Unpack</a></span><span style="color: #008000;">&#40;</span>buffer,TAM_BUFFER,<span style="color: #000040;">&amp;</span>posicion,<span style="color: #000040;">&amp;</span>a,<span style="color: #0000dd;">1</span>,<span class="funcion"><a href="mpi_ayuda.php-ayuda=mpi_const_types.html">MPI_FLOAT</a></span>,<span class="funcion"><a href="mpi_ayuda.php-ayuda=mpi_const_types.html">MPI_COMM_WORLD</a></span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span>
      <span style="color: #0000dd;">printf</span><span style="color: #008000;">&#40;</span><span style="color: #FF0000;">&quot;   a = %f<span style="color: #000099; font-weight: bold;">\n</span>&quot;</span>,a<span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span>
      <span class="funcion"><a href="mpi_ayuda.php-ayuda=MPI_Unpack.html">MPI_Unpack</a></span><span style="color: #008000;">&#40;</span>buffer,TAM_BUFFER,<span style="color: #000040;">&amp;</span>posicion,<span style="color: #000040;">&amp;</span>b,<span style="color: #0000dd;">1</span>,<span class="funcion"><a href="mpi_ayuda.php-ayuda=mpi_const_types.html">MPI_FLOAT</a></span>,<span class="funcion"><a href="mpi_ayuda.php-ayuda=mpi_const_types.html">MPI_COMM_WORLD</a></span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span>
      <span style="color: #0000dd;">printf</span><span style="color: #008000;">&#40;</span><span style="color: #FF0000;">&quot;   b = %f<span style="color: #000099; font-weight: bold;">\n</span>&quot;</span>,b<span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span>
      <span class="funcion"><a href="mpi_ayuda.php-ayuda=MPI_Unpack.html">MPI_Unpack</a></span><span style="color: #008000;">&#40;</span>buffer,TAM_BUFFER,<span style="color: #000040;">&amp;</span>posicion,<span style="color: #000040;">&amp;</span>n,<span style="color: #0000dd;">1</span>,<span class="funcion"><a href="mpi_ayuda.php-ayuda=mpi_const_types.html">MPI_INT</a></span>,<span class="funcion"><a href="mpi_ayuda.php-ayuda=mpi_const_types.html">MPI_COMM_WORLD</a></span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span>
      <span style="color: #0000dd;">printf</span><span style="color: #008000;">&#40;</span><span style="color: #FF0000;">&quot;   n = %d<span style="color: #000099; font-weight: bold;">\n</span>&quot;</span>,n<span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span>
   <span style="color: #008000;">&#125;</span>
   <span class="funcion"><a href="mpi_ayuda.php-ayuda=MPI_Finalize.html">MPI_Finalize</a></span><span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span>
<span style="color: #008000;">&#125;</span></pre></div> </div><h1 id="Errors" >Errores</h1><div class="contenido"> <table><tbody><tr><td><span class="negrita">MPI_SUCCESS </span></td><td>No ha habido error, la funci&oacute;n se ha completado satisfactoriamente.</td></tr><tr><td><span class="negrita">    MPI_ERR_COMM </span></td><td>El comunicador seleccionado no es v&aacute;lido. Un error com&uacute;n es usar un comunicador nulo.</td></tr><tr><td><span class="negrita">    MPI_ERR_COUNT </span></td><td>Valor de count no v&aacute;lido. El argumento count debe ser un valor no negativo, es posible utilizar el valor cero.</td></tr><tr><td><span class="negrita">    MPI_ERR_TYPE </span></td><td>Argumento datatype no v&aacute;lido. Puede ocurrir cuando no se hace commit del tipo de dato (V&eacute;ase <span class="funcion"><a href="mpi_ayuda.php-ayuda=MPI_Type_commit.html">MPI_Type_commit</a></span>).</td></tr><tr><td><span class="negrita">    MPI_ERR_ARG </span></td><td>Valor de argumento no v&aacute;lido.</td></tr></tbody></table> </div><h1 id="nodivVTmbien" >V&eacute;ase tambi&eacute;n</h1><p><span class="funcion"><a href="mpi_ayuda.php-ayuda=MPI_Unpack.html">MPI_Unpack</a></span></p></div><div id="creadoresWeb">
					<span> Creado por: Daniel Guerrero Mart&iacute;nez y Sergio Rodr&iacute;guez Lumley 2010</span>
			      <p><a target="_blank" href="http://validator.w3.org/check?uri=referer"><img
				      src="http://www.w3.org/Icons/valid-html401"
				      alt="Valid HTML 4.01 Transitional" height="31" width="88"></a>
				</p>
				</div>
			</body>
		</html>
